<!DOCTYPE html>
<html>
<head>
<link rel="shortcut icon" href="https://my-youth.github.io/favicon.ico" type="image/x-icon" />
<meta name="viewport"content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
<meta name="apple-mobile-web-app-capable"content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style"content="black"/>
<meta name="format-detection"content="telephone=no"/>
<meta name="renderer"content="webkit">
<meta name="description"content="éšç¬”ï¼Œ&lt;a href=&#34;https://my-youth.github.io/tag/wJByjnnFM&#34; target=&#34;_blank&#34;&gt;Excel&lt;/a&gt;ï¼Œ&lt;a href=&#34;https://my-youth.github.io/post/toolbox/&#34; target=&#34;_blank&#34;&gt;è½¯ä»¶&lt;/a&gt;">
<meta charset="UTF-8">
<title>è¿½å‰§åŠ©æ‰‹from IMDB | æœ¨æ˜“Young&#39;s Blog</title>

<link href="https://my-youth.github.io/styles/main.css" type="text/css" rel="stylesheet" /><link href="https://at.alicdn.com/t/font_1621793_zatzzgvf30g.css" type="text/css" rel="stylesheet" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css"><script async src="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.min.js"></script><script src="https://my-youth.github.io/media/js/magnify.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>
<script type="text/javascript">function btn_toggle(){document.getElementById("hn").classList.contains("no-js")?document.getElementById("hn").classList.remove("no-js"):document.getElementById("hn").classList.add("no-js")}</script>



<!-- DEMO CSS -->
<style type="text/css">
	
</style>

<link rel="canonical" href="https://my-youth.github.io/post/episode_from_iimdb/" />
</head>
<body>
<div class="progress"></div><style>.progress{background:linear-gradient(to right,#87ceeb var(--scroll),transparent 0);background-repeat:no-repeat;position:fixed;width:100%;height:4px;z-index:1}</style><div class="darkmode-background"></div><div class="darkmode-layer"></div>
<noscript><p class="warn" >æœ¬é¡µé¢éœ€è¦æµè§ˆå™¨æ”¯æŒï¼ˆå¯ç”¨ï¼‰JavaScript</p></noscript><div class="header"><div class="logo_title"><div class="title animated fadeInDown"><a href="https://my-youth.github.io"><img alt="logo" style="display:inline-block;" src="https://my-youth.github.io/images/avatar.png"/></a><h1 title="æœ¨æ˜“Young&#39;s Blog" class="weaklink"><a  href="/">æœ¨æ˜“Young&#39;s Blog</a></h1>

<div class="navbar weaklink">
<div class="normal_nav">
<div class="bitcron_nav_container"><div class="bitcron_nav"><div class="bitcron_nav"><div style="display:flex;justify-content:center;"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="https://my-youth.github.io/post/software" class="selected active current nav__item" >è½¯ä»¶</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="https://my-youth.github.io/guide/" class="selected active current nav__item" >å¯¼èˆª</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a></li></ul></nav>
<div style="float:right;margin-top:1em"><form id="gridea-search-form" data-update="1578893743252" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="æœç´¢..."></form></div><div style="margin-left:0.5em;margin-top:1.2em"><input id="switch_default" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
<div class="clear clear_nav_inline_end"></div></div></div><div class="clear clear_nav_end"></div></div></div><div class="hamberger" href="javascript:void(0)" onclick="btn_toggle();"><i class="iconfont icon-category"></i></div></div></div></div>
<div id="hn" class="no-js hidden_nav animated fadeInDown"><div class="bitcron_nav_container"><div class="bitcron_nav"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="https://my-youth.github.io/post/software" class="selected active current nav__item" >è½¯ä»¶</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="https://my-youth.github.io/guide/" class="selected active current nav__item" >å¯¼èˆª</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a></li></ul><div class="clear clear_nav_inline_end"></div></nav></div><div class="clear clear_nav_end"></div></div>
<div style="display:flex;justify-content:center;inline-block;text-align:center;margin-top:7%"><div><form id="gridea-search-form" data-update="1711270896261" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q"  placeholder="æœç´¢..." /></form></div><div style="margin-left:0.5em"><input id="switch_default_h" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
</div></div>
<script>function enableDarkmode(){document.body.classList.add("darkmode"),document.getElementById("switch_default").checked=1,document.getElementById("switch_default_h").checked=1}function removeDarkmode(){document.body.classList.remove("darkmode"),document.getElementById("switch_default").checked=0,document.getElementById("switch_default_h").checked=0}function getCookie(a){var b,c=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return(b=document.cookie.match(c))?unescape(b[2]):null}cookie=getCookie("darkmode"),"enable"==cookie&&enableDarkmode(),window.matchMedia("(prefers-color-scheme: dark)").matches&&"disable"!==cookie&&(enableDarkmode(),document.cookie="darkmode=enable; path=/");var mobileBtn=function(){1==document.getElementById("switch_default").checked?(enableDarkmode(),document.cookie="darkmode=enable; path=/"):(removeDarkmode(),document.cookie="darkmode=disable; path=/")};</script>


<div class="main"><div class="main-inner"><div class="content">
<article class="post">
<h2 class="post_title sm_margin"><a>è¿½å‰§åŠ©æ‰‹from IMDB</a></h2>
<script>function lan(){if(document.getElementById("lan").innerText=="ç¹"){var s=document.getElementById("tongwenlet_cn");if(s!=null){document.body.removeChild(s)}var s=document.createElement("script");s.language="javascript";s.type="text/javascript";s.src="https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_tw.js";s.id="tongwenlet_cn";document.body.appendChild(s);document.getElementById("lan").innerHTML="ç®€"}else{if(document.getElementById("lan").innerText=="ç°¡"){var s=document.getElementById("tongwenlet_cn");if(s!=null){document.body.removeChild(s)}var s=document.createElement("script");s.language="javascript";s.type="text/javascript";s.src="https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_cn.js";s.id="tongwenlet_cn";document.body.appendChild(s);document.getElementById("lan").innerHTML="ç¹"}}};</script>
<section class="post_details"><i class="iconfont icon-calendar"></i><span style="margin-right:15px"> 2024-01-23</span><i class="iconfont icon-browse"></i><span style="margin-right:15px"> <span id="busuanzi_value_page_pv"></span> Views</span><i class="iconfont icon-category"></i><span class="weaklink" style="margin-right:15px">	<a href="https://my-youth.github.io/tag/qaOsxjmY6/" class="tag">Pyhton</a> | 	<a href="https://my-youth.github.io/tag/QbFn02XrrK/" class="tag">AI</a></span><i class="iconfont icon-caret-down"></i><span style="margin-right:15px">2560å­—</span><i class="iconfont icon-naozhong"></i><span style="margin-right:15px">12 min read</span><a id="lan" href="javascript:void(0);"onclick="lan();"title="è°ƒæ•´ç®€ç¹ä½“" style="margin-right:15px;">ç¹</a>
</section>

<div style="display:flex">
<div class="md_block" id="md_block">

<div class="round-shape-one"></div>

<h1 id="1-å‰è¨€">1. å‰è¨€</h1>
<p>ä»Šå¹´æ˜¯AIå…ƒå¹´ï¼Œè‡ªChat GPTä¹‹åï¼Œå›½å†…å„å¤§äº’è”ç½‘å…¬å¸ä¹Ÿæ¨å‡ºäº†è‡ªå®¶çš„AIå¤§è¯­è¨€æ¨¡å‹ã€‚æˆ‘è¿Pythonç¼–ç¨‹çš„å‡½æ•°å’Œè¯­æ³•éƒ½æ²¡å…¥é—¨ï¼Œæ—¥å¸¸ä¹Ÿå°±ä½¿ç”¨VBAè¾…åŠ©æ¥å¤„ç†å·¥ä½œä¸­çš„é‡å¤äº‹é¡¹ï¼Œæ‰€ä»¥ä»Šå¤©åˆ†äº«çš„ä»£ç å®Œå…¨æ¥è‡ªäºAIæ‰€å†™ã€‚<br>
ä»ä¸Šå­¦çš„æ—¶å€™å…»æˆäº†çœ‹ç¾å‰§çš„ä¹ æƒ¯ï¼Œå…¥é—¨ç¾å‰§æ˜¯è¶…äººå‰ä¼ å’Œç¥ç›¾å±€ç‰¹å·¥ã€‚ä»¥å‰Series Guideè¿˜èƒ½æ­£å¸¸ä½¿ç”¨çš„æ—¶å€™ï¼Œä¸€ç›´ç”¨æ¥è®°å½•è¿½å‰§è¿›åº¦ï¼Œåæ¥ä¹Ÿç”¨è¿‡äººäººå¼€å‘çš„è½¯ä»¶ã€‚ä½†æ˜¯åˆ°ç°åœ¨å°±ä¸€ç›´æ²¡æœ‰å¿ƒæ°´çš„è½¯ä»¶ï¼Œè¦ä¹ˆå°±æ˜¯åŠŸèƒ½å¯¹äºæˆ‘æ¥è¯´ä¸å¤Ÿè½»é‡ï¼Œè¦ä¹ˆå°±æ˜¯ç”¨ä¸ä¸Šçš„åŠŸèƒ½å¤ªå¤šã€‚æ‰€ä»¥ä¸€ç›´æ˜¯åœ¨ä¾¿ç­¾ä¸­è®°å½•ã€‚ä¹˜ç€AIçš„é£ï¼Œç´¢æ€§å¥´å½¹å®ƒæ¥ä¸ºæˆ‘æœåŠ¡ä¸€æ¬¡ã€‚</p>
<h1 id="2-è½¯ä»¶å¯¹æ¯”">2. è½¯ä»¶å¯¹æ¯”</h1>
<p>è¿™æ¬¡å†™è¿½å‰§åŠ©æ‰‹å‰ï¼Œåˆ†åˆ«è¯•ç”¨äº†æ–‡å¿ƒä¸€è¨€å’Œé€šä¹‰åƒé—®ä¸€æ®µæ—¶é—´ï¼Œè¿‡ç¨‹ä¸­ä¹Ÿå‘ç°ä¸¤å®¶çš„æ¨¡å‹å„æœ‰ä¼˜åŠ£ï¼Œä¸‹é¢å°±æˆ‘ä¸ªäººä½¿ç”¨ä½“éªŒåˆ†äº«ä¸€ä¸‹ã€‚</p>
<table>
<thead>
<tr>
<th>å¯¹æ¯”é¡¹ç›®</th>
<th>æ–‡å¿ƒä¸€è¨€</th>
<th>é€šä¹‰åƒé—®</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ•°æ®åŒæ­¥</td>
<td>å¤šç«¯åŒæ­¥ï¼Œç›¸äº’å¯ä»¥æ‰“å¼€è®°å½•</td>
<td>ç½‘é¡µå’Œappæ— æ³•äº’é€š</td>
</tr>
<tr>
<td>è½¯ä»¶ä½“éªŒ</td>
<td>æœ‰ç¤¾åŒºæ€§è´¨ï¼Œå®‰è£…åŒ…è¾ƒå¤§</td>
<td>åŠŸèƒ½ä¸“æ³¨ï¼Œå®‰è£…åŒ…å°</td>
</tr>
<tr>
<td>ä¸Šä¸‹æ–‡ç†è§£</td>
<td>æœ‰æ—¶å€™ä¼šå¿˜äº†ä¹‹å‰çš„å¯¹è¯ï¼Œè¿ç»­æ€§å·®ç‚¹ï¼Œå¯¹è¯çš„æ—¶å€™ç›´æ¥æç¤ºå‰æ–‡ä¼šæ”¹å–„</td>
<td>è¿ç»­æ€§è¾ƒå¥½ï¼Œæ— æç¤ºä¹Ÿèƒ½è¿ç»­</td>
</tr>
<tr>
<td>ä»£ç è´¨é‡</td>
<td>æ³¨é‡Šå’Œä»£ç å¸¸æ··åˆ°ä¸€è¡Œï¼Œéœ€æ‰‹åŠ¨æ¢è¡Œ</td>
<td>æ³¨é‡Šå’Œä»£ç å®Œç¾åˆ†å¼€</td>
</tr>
<tr>
<td>å¯¹è¯å­—ç¬¦é™åˆ¶</td>
<td>ç½‘é¡µå’Œappå‡ä¸º2000å­—ç¬¦</td>
<td>ç½‘é¡µ10000å­—ç¬¦ï¼Œapp 2000å­—ç¬¦</td>
</tr>
</tbody>
</table>
<h1 id="3-æ­£æ–‡ä»£ç ">3. æ­£æ–‡ä»£ç </h1>
<ul>
<li>åº“çš„å¯¼å…¥ã€‚åœ¨ä»£ç çš„å‰å…­è¡Œæ˜¯å¼•ç”¨äº†Pythonåº“ï¼Œå®˜æ–¹åº“å®‰è£…é€Ÿåº¦è¾ƒæ…¢ï¼Œç”šè‡³æœ‰æ—¶å€™è¿ä¸ä¸Šï¼Œæ‰€ä»¥å®‰è£…æ—¶å¯ä»¥ä½¿ç”¨é•œåƒæºä»£æ›¿ï¼Œæ¯”å¦‚æ¸…åæºã€‚<br>
å®‰è£…å•ä¸ªåº“ï¼š</li>
</ul>
<pre><code class="language-python">pip install re -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre>
<p>å®‰è£…å¤šä¸ªåº“ï¼š</p>
<pre><code class="language-python">pip install bs4 datetime requests wcwidth pytz -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre>
<ul>
<li>ç¨‹åºä½¿ç”¨æ–¹æ³•ï¼š<br>
ä»£ç ç¬¬ä¸€æ®µtv_showså­—å…¸å­˜å‚¨çš„æ˜¯æ¯éƒ¨ç¾å‰§çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬åç§°ã€IMDB IDå’Œå·²è§‚çœ‹å‰§é›†ã€‚<br>
ä¿®æ”¹tv_showå­—å…¸ä¸­çš„å†…å®¹ï¼Œwatched_episodesçš„æ ¼å¼å¯æ˜¯æ˜¯S01E01ä¹Ÿå¯ä»¥å†™æˆS1E1ï¼Œä½†æ˜¯å¿…é¡»æ˜¯å¤§å†™ã€‚æ–°å‰§å¯ä»¥å†™æˆS01E00å½¢å¼ã€‚</li>
<li>å®Œæ•´ä»£ç ï¼š</li>
</ul>
<pre><code class="language-python">import requests
import re
from bs4 import BeautifulSoup
from datetime import datetime
import wcwidth
from pytz import timezone

# åˆ›å»ºä¸€ä¸ªå­—å…¸æ¥å­˜å‚¨ç¾å‰§ä¿¡æ¯
tv_shows = {
    &quot;IronHearté’¢é“ä¹‹å¿ƒ&quot;: {&quot;imdb_id&quot;: &quot;tt13623126&quot;, &quot;watched_episodes&quot;: &quot;S01E00&quot;},
    &quot;Lokiæ´›åŸº&quot;: {&quot;imdb_id&quot;: &quot;tt9140554&quot;, &quot;watched_episodes&quot;: &quot;S02E06&quot;},
    &quot;What Ifå‡å¦‚&quot;: {&quot;imdb_id&quot;: &quot;tt10168312&quot;, &quot;watched_episodes&quot;: &quot;S02E03&quot;},
    &quot;Haloå…‰ç¯&quot;: {&quot;imdb_id&quot;: &quot;tt2934286&quot;, &quot;watched_episodes&quot;: &quot;S01E09&quot;},
    &quot;Superman &amp; Loisè¶…äººä¸éœ²æ˜“ä¸&quot;: {&quot;imdb_id&quot;: &quot;tt11192306&quot;, &quot;watched_episodes&quot;: &quot;S03E13&quot;},
    &quot;The Boysé»‘è¢çº å¯Ÿé˜Ÿ&quot;: {&quot;imdb_id&quot;: &quot;tt1190634&quot;, &quot;watched_episodes&quot;: &quot;S03E08&quot;},
    &quot;3 Body Problemä¸‰ä½“&quot;: {&quot;imdb_id&quot;: &quot;tt13016388&quot;, &quot;watched_episodes&quot;: &quot;S01E00&quot;}
}

def get_episode_info(imdb_id, watched_episodes):
    # æ„é€ è¯·æ±‚URLï¼Œç”¨äºè·å–æŒ‡å®šIMDb IDçš„å‰§é›†ä¿¡æ¯
    episode_url = f&quot;https://www.imdb.com/title/{imdb_id}/episodes&quot;
    
    # è®¾ç½®è¯·æ±‚å¤´ï¼Œæ¨¡æ‹Ÿæµè§ˆå™¨å‘é€è¯·æ±‚
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'
    }
    
    # å‘é€è¯·æ±‚å¹¶è·å–å“åº”
    response = requests.get(episode_url, headers=headers)
    
    # æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸï¼ˆçŠ¶æ€ç ä¸º200è¡¨ç¤ºæˆåŠŸï¼‰
    if response.status_code == 200:
        # ä½¿ç”¨BeautifulSoupè§£æHTMLå“åº”
        soup = BeautifulSoup(response.text, 'html.parser')
        
        # ä»HTMLä¸­æå–æ‰€æœ‰å­£èŠ‚ç¼–å·
        episode_elements = soup.select('.ipc-tab')

        # åˆ›å»ºä¸€ä¸ªæ–°çš„å­—å…¸æ¥å­˜å‚¨å­£èŠ‚ç¼–å·
        print(&quot;\n&quot;)
        season_numbers = {}
        for element in episode_elements:
            html_fragment = str(element)
            matches = re.findall(r'&lt;li.*?&gt;(\d+)&lt;/li&gt;', html_fragment)
            if matches:
                for season_number in matches:
                    season_numbers[season_number] = None  # è¿™é‡Œä½ å¯ä»¥æ ¹æ®éœ€è¦å­˜å‚¨å…¶ä»–ç›¸å…³ä¿¡æ¯
                    print(f&quot;{show}çš„å­£: {season_number}&quot;)

        # åˆå§‹åŒ–ä¸€ä¸ªåˆ—è¡¨ï¼Œç”¨äºå­˜å‚¨å‰§é›†ä¿¡æ¯
        episode_infos = []
        
        # æ‰“å°è¡¨æ ¼æ ‡é¢˜
        print(f&quot;Show\t\tIMDb ID\t\tWatched\t\tEpisodes\tRelease Date&quot;)

        # æ ‡è®°æ˜¯å¦å·²ç»æ‰¾åˆ°å·²è§‚çœ‹çš„å‰§é›†
        found_watched_episode = False
        
        # éå†æ‰€æœ‰å­£èŠ‚
        for season_number in sorted(season_numbers.keys(), reverse=True):
            if found_watched_episode:
                break
            
            # æ„é€ è¯·æ±‚URLï¼Œç”¨äºè·å–æŒ‡å®šå­£èŠ‚çš„å‰§é›†ä¿¡æ¯
            season_episode_url = f&quot;https://www.imdb.com/title/{imdb_id}/episodes/?season={season_number}&quot;
            
            # å‘é€è¯·æ±‚å¹¶è·å–å“åº”
            season_response = requests.get(season_episode_url, headers=headers)

            # æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸï¼ˆçŠ¶æ€ç ä¸º200è¡¨ç¤ºæˆåŠŸï¼‰
            if season_response.status_code == 200:
                # ä½¿ç”¨BeautifulSoupè§£æHTMLå“åº”
                season_soup = BeautifulSoup(season_response.text, 'html.parser')
                
                # ä»HTMLä¸­æå–æ‰€æœ‰å‰§é›†çš„æ—¥æœŸå’Œç¼–å·
                episodes_dates = season_soup.select('article &gt; div &gt; div &gt; div &gt; div &gt; span')
                episodes = season_soup.select('article &gt; div &gt; div &gt; div &gt; div &gt; h4 &gt; div &gt; a &gt; div')

                # éå†æ‰€æœ‰å‰§é›†
                for episode_date, episode in zip(episodes_dates, episodes):
                    html_fragment = str(episode)
                    matches = re.findall(r'S(\d+)\.E(\d+)', html_fragment)
                    if matches:
                        season_number_str, episode_number_str = matches[0]
                        season_number = int(season_number_str)
                        episode_number = int(episode_number_str)

                        # æå–å·²è§‚çœ‹å‰§é›†çš„å­£èŠ‚å’Œç¼–å·
                        watched_season, watched_episode = watched_episodes.replace(&quot;S&quot;, &quot;&quot;).replace(&quot;E&quot;, &quot;.&quot;).split('.')
                        watched_season_num = int(watched_season)
                        watched_episode_num = int(watched_episode)

                        # åˆ¤æ–­å½“å‰å‰§é›†æ˜¯å¦åœ¨å·²è§‚çœ‹å‰§é›†ä¹‹å
                        if watched_season_num &lt; season_number or (watched_season_num == season_number and watched_episode_num &lt; episode_number):
                            episode_date_text = episode_date.text.strip()
                            
                            try:
                                # å°†å‰§é›†æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¥æœŸå¯¹è±¡ï¼ˆå‡è®¾æ—¥æœŸæ˜¯ç¾å›½æ´›æ‰çŸ¶æ—¶é—´ï¼‰
                                episode_date_obj = datetime.strptime(episode_date_text, &quot;%a, %b %d, %Y&quot;)
                                
                                # å°†ç¾å›½æ´›æ‰çŸ¶æ—¶é—´è½¬æ¢ä¸ºUTCæ—¶é—´
                                episode_date_utc = episode_date_obj.astimezone(timezone('US/Pacific'))

                                # å°†UTCæ—¶é—´è½¬æ¢ä¸ºåŒ—äº¬æ—¶é—´
                                episode_date_bj = episode_date_utc.astimezone(timezone('Asia/Shanghai'))
                                
                                date_str = episode_date_bj.strftime(&quot;%Y-%m-%d&quot;)

                                # è·å–å½“å‰æ—¥æœŸå¯¹è±¡ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
                                current_date_obj = datetime.now(timezone('Asia/Shanghai'))

                                # åˆ¤æ–­å‰§é›†æ—¥æœŸæ˜¯å¦æ—©äºå½“å‰æ—¥æœŸ
                                if episode_date_bj &lt; current_date_obj:
                                    episode_info = {
                                        'show': show,
                                        'imdb_id': imdb_id,
                                        'watched_episodes': watched_episodes,
                                        'episode_number': f&quot;S{season_number}E{episode_number}&quot;,
                                        'episode_date': date_str  # episode_date_text
                                    }
                                    
                                    # å°†å‰§é›†ä¿¡æ¯æ·»åŠ åˆ°åˆ—è¡¨ä¸­
                                    episode_infos.append(episode_info)
                                    
                                    # æ‰“å°å‰§é›†ä¿¡æ¯
                                    print(f&quot;{show}\t{imdb_id}\t{watched_episodes}\t\tS{season_number}E{episode_number}\t\t{date_str}&quot;)
                                    
                                    # å¦‚æœæ‰¾åˆ°äº†å·²è§‚çœ‹çš„å‰§é›†ï¼Œåœæ­¢å¾ªç¯
                                    if watched_season_num == season_number and watched_episode_num == episode_number:
                                        found_watched_episode = True
                                        break
                            except ValueError:
                                # å¦‚æœæ— æ³•è§£ææ—¥æœŸæˆ–ä»…åŒ…å«å¹´ä»½ï¼Œè·³è¿‡æ­¤å‰§é›†
                                pass

            else:
                # å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯
                print(f&quot;è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š{season_response.status_code}&quot;)

        return episode_infos
    else:
        # å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯
        print(f&quot;è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š{response.status_code}&quot;)
        return None

# è·å–å¹¶æ›´æ–°å‰§é›†ä¿¡æ¯
all_episode_infos = {}
for show in tv_shows.keys():
    episode_infos = get_episode_info(tv_shows[show][&quot;imdb_id&quot;], tv_shows[show][&quot;watched_episodes&quot;])
    if episode_infos:
        all_episode_infos[show] = episode_infos

# è®¡ç®—æ‰€æœ‰å‰§åçš„æœ€å¤§å®½åº¦ï¼ˆè€ƒè™‘å¤šå­—èŠ‚å­—ç¬¦ï¼‰
max_show_width = max(sum(wcwidth.wcwidth(c) for c in show) for show in tv_shows.keys())

print('\n\n\nè¿½å‰§è¿›åº¦: ')
print(f&quot;{'Show':&lt;{max_show_width}}\tIMDb ID\t\tWatched\t\tStatus&quot;)

# ç»Ÿè®¡å±•ç¤º
for show in tv_shows.keys():
    if show in all_episode_infos:
        unwatched_episodes = len(all_episode_infos[show])
        status = f&quot;å¾…è§‚çœ‹{unwatched_episodes}é›†&quot;
    else:
        status = &quot;æœªæ›´æ–°&quot;

    # è®¡ç®—å‰§åçš„å¡«å……ç©ºæ ¼æ•°é‡
    padding = ' ' * (max_show_width - sum(wcwidth.wcwidth(c) for c in show))
    
    # æ‰“å°å‰§é›†ç»Ÿè®¡ä¿¡æ¯
    print(f&quot;{show}{padding}\t{tv_shows[show]['imdb_id']}\t{tv_shows[show]['watched_episodes']}\t\t{status}&quot;)

</code></pre>
<h1 id="4-å®‰å“è¿è¡Œ">4. å®‰å“è¿è¡Œ</h1>
<p>å†™åŠ©æ‰‹çš„åˆè¡·ä¹Ÿæ˜¯å¤šå¹³å°éƒ½å¯ä»¥é€šç”¨ï¼ŒPCç«¯è¿è¡ŒPythonç¨‹åºæ¯”è¾ƒæ–¹ä¾¿ï¼Œå®‰å“å¹³å°ç›®å‰ä½¿ç”¨äº†Pydroid 3è¿è¡Œç¨‹åºã€‚Pydroid 3ç›®å‰å®‰è£…ç‰ˆæœ¬ä¸º5.00ï¼Œæœ‰éœ€è¦å¯ä»¥ä»ä¸‹é¢çš„é“¾æ¥è‡ªå–ã€‚</p>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.alipan.com/s/trsJpuRV9uB">https://www.alipan.com/s/trsJpuRV9uB</a><br>
æå–ç : 8lq0</p>
<p>è¿è¡Œç»“æœå‚è€ƒï¼š</p>
<pre><code class="language-python">IronHearté’¢é“ä¹‹å¿ƒçš„å­£: 1
Show            IMDb ID         Watched         Episodes        Release Date


Lokiæ´›åŸºçš„å­£: 1
Lokiæ´›åŸºçš„å­£: 2
Show            IMDb ID         Watched         Episodes        Release Date


What Ifå‡å¦‚çš„å­£: 1
What Ifå‡å¦‚çš„å­£: 2
What Ifå‡å¦‚çš„å­£: 3
Show            IMDb ID         Watched         Episodes        Release Date
What Ifå‡å¦‚     tt10168312      S02E03          S2E4            2023-12-25
What Ifå‡å¦‚     tt10168312      S02E03          S2E5            2023-12-26
What Ifå‡å¦‚     tt10168312      S02E03          S2E6            2023-12-27
What Ifå‡å¦‚     tt10168312      S02E03          S2E7            2023-12-28
What Ifå‡å¦‚     tt10168312      S02E03          S2E8            2023-12-29


Haloå…‰ç¯çš„å­£: 1
Haloå…‰ç¯çš„å­£: 2
Show            IMDb ID         Watched         Episodes        Release Date


Superman &amp; Loisè¶…äººä¸éœ²æ˜“ä¸çš„å­£: 1
Superman &amp; Loisè¶…äººä¸éœ²æ˜“ä¸çš„å­£: 2
Superman &amp; Loisè¶…äººä¸éœ²æ˜“ä¸çš„å­£: 3
Superman &amp; Loisè¶…äººä¸éœ²æ˜“ä¸çš„å­£: 4
Show            IMDb ID         Watched         Episodes        Release Date


The Boysé»‘è¢çº å¯Ÿé˜Ÿçš„å­£: 1
The Boysé»‘è¢çº å¯Ÿé˜Ÿçš„å­£: 2
The Boysé»‘è¢çº å¯Ÿé˜Ÿçš„å­£: 3
The Boysé»‘è¢çº å¯Ÿé˜Ÿçš„å­£: 4
Show            IMDb ID         Watched         Episodes        Release Date


3 Body Problemä¸‰ä½“çš„å­£: 1
Show            IMDb ID         Watched         Episodes        Release Date



è¿½å‰§è¿›åº¦:
Show                            IMDb ID         Watched         Status
IronHearté’¢é“ä¹‹å¿ƒ               tt13623126      S01E00          æœªæ›´æ–°
Lokiæ´›åŸº                        tt9140554       S02E06          æœªæ›´æ–°
What Ifå‡å¦‚                     tt10168312      S02E03          å¾…è§‚çœ‹5é›†
Haloå…‰ç¯                        tt2934286       S01E09          æœªæ›´æ–°
Superman &amp; Loisè¶…äººä¸éœ²æ˜“ä¸     tt11192306      S03E13          æœªæ›´æ–°
The Boysé»‘è¢çº å¯Ÿé˜Ÿ              tt1190634       S03E08          æœªæ›´æ–°
3 Body Problemä¸‰ä½“              tt13016388      S01E00          æœªæ›´æ–°

[Program finished]
</code></pre>
<blockquote>
<p>æœ€åçš„è¿½å‰§è¿›åº¦åœ¨æ§åˆ¶å°æ‰“å°å‡ºæ¥æ˜¯å¯¹é½çš„ï¼Œå› ä¸ºç­‰å®½å­—ä½“çš„åŸå› ã€‚</p>
</blockquote>
<p>æœ¬æ¥è®¡åˆ’è¦åœ¨æœ€åä¸€åˆ—å±•ç¤ºä»Šå¤©ä»¥åä¸‹ä¸€é›†çš„æ’­æ”¾æ—¥æœŸï¼Œä½†æ˜¯å¥´å½¹äº†é€šä¹‰åƒé—®ä¸€ä¸ªæ™šä¸Šä¹Ÿè¿˜å·®ç‚¹æ„æ€ï¼Œæ‰€ä»¥çœ‹çœ‹åé¢èƒ½ä¸èƒ½è¡¥å……å’¯ã€‚</p>
<h1 id="5-åè®°">5. åè®°</h1>
<ul>
<li>Qï¼šä¸ºä»€ä¹ˆæ²¡æœ‰é‡‡ç”¨å¤šçº¿ç¨‹æˆ–è€…å¼‚æ­¥è¯·æ±‚åŠ å¿«ç¨‹åºè¿è¡Œé€Ÿåº¦ï¼Ÿ<br>
Aï¼šé¦–å…ˆæ˜¯æŠ€æœ¯é™åˆ¶ï¼Œä½œä¸ºPythonå°ç™½æˆ‘ä¸ä¼šå†™ï¼Œå³ä¾¿æ˜¯è®©é€šä¹‰åƒé—®å†™å‡ºæ¥ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯å¦é€‚ç”¨ã€‚<br>
å…¶æ¬¡æ˜¯ç½‘ç»œä¸Šä¸€ç›´æçˆ¬ç½‘ç«™å®¹æ˜“å°IPï¼Œæ‰€ä»¥è™½ç„¶è¿è¡Œé€Ÿåº¦æ…¢ï¼Œä½†ä½œä¸ºè‡ªç”¨ä¹Ÿè¶³å¤Ÿäº†ï¼Œæ¯”ä¸Šç½‘ç«™ä¸€éƒ¨ä¸€éƒ¨æŸ¥å¿«å¤šäº†ã€‚</li>
<li>Qï¼šç¨‹åºèƒ½å¦é•¿æœŸç¨³å®šä½¿ç”¨ï¼Ÿ<br>
Aï¼šå–å†³äºIMDBç½‘ç«™ç»“æ„æ˜¯å¦å˜åŒ–ï¼Œæˆ–è€…å¯¹çˆ¬å–ç½‘ç«™æœ‰äº†ä»€ä¹ˆæ–°çš„è¦æ±‚ã€‚</li>
</ul>
<p>æ€»çš„æ¥è¯´ï¼Œä¸ªäººè®¤ä¸ºå¤§è¯­è¨€æ¨¡å‹çš„æ¨å‡ºæ¯”ä»€ä¹ˆå…ƒå®‡å®™èåˆæ¦‚å¿µæ›´å…·æœ‰è·¨æ—¶ä»£çš„æ„ä¹‰ï¼Œä¹Ÿè®©æŠ€æœ¯å°ç™½åœ¨å¨±ä¹å’Œå·¥ä½œä¸­æ›´åŠ è‡ªå¦‚ã€‚æœç´¢æ•ˆç‡æ¯”ç™¾åº¦ç­‰ç½‘é¡µæœç´¢æ›´é«˜ï¼ˆè¯­è¨€ç±»ï¼‰ï¼›è®©ä¸æ‡‚ç¼–ç¨‹çš„äººä¹Ÿå¯ä»¥æŠŠè‡ªå·±çš„æƒ³æ³•å˜æˆç°å®ï¼›ä»¥å‰å†™æ–‡ç« ææ–™ï¼Œéœ€è¦ç»å°½è„‘æ±å»ç”¨ä¼˜é›…çš„è¯­è¨€æ¶¦è‰²ï¼Œç°åœ¨ç”©ç»™AIå°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆã€‚æ€»çš„æ¥è¯´ï¼Œææ–‡å­—å®ƒæ˜¯åœ¨è¡Œçš„ã€‚<br>
ä¸è¿‡å®ƒä»¬çš„å‡ºç°æ˜¯ä¸æ˜¯ä¼šé™åˆ¶ä¸ªäººçš„æ€è€ƒèƒ½åŠ›å’Œå†å­¦ä¹ èƒ½åŠ›ï¼Œç›¸ä¿¡æœ€ç»ˆæ—¶é—´ä¼šç»™å‡ºç­”æ¡ˆã€‚</p>
<p>2023å¹´12æœˆ29æ—¥</p>

<span id="footnote"></span>
<div id = "warn"></div>
</div>
<div class="toc-container"><ul class="markdownIt-TOC">
<li><a href="#1-%E5%89%8D%E8%A8%80">1. å‰è¨€</a></li>
<li><a href="#2-%E8%BD%AF%E4%BB%B6%E5%AF%B9%E6%AF%94">2. è½¯ä»¶å¯¹æ¯”</a></li>
<li><a href="#3-%E6%AD%A3%E6%96%87%E4%BB%A3%E7%A0%81">3. æ­£æ–‡ä»£ç </a></li>
<li><a href="#4-%E5%AE%89%E5%8D%93%E8%BF%90%E8%A1%8C">4. å®‰å“è¿è¡Œ</a></li>
<li><a href="#5-%E5%90%8E%E8%AE%B0">5. åè®°</a></li>
</ul>
</div>
</div>
<div id="fullPage"><canvas id="canvas"></canvas></div>
</article>
<div id="eof"><span>EOF</span></div>

<div class="round-shape-one"></div>

<section>
<div class="doc_comments">


</div></section>
</div></div></div><script>
"use strict";!function(){for(var n=document.getElementsByTagName("pre"),e=n.length,s=0;s<e;s++){n[s].innerHTML='<span class="line-number"></span>'+n[s].innerHTML+'<span class="cl"></span>';for(var a=n[s].innerHTML.split(/\n/).length,r=0;r<a-1;r++){n[s].getElementsByTagName("span")[0].innerHTML+="<span>"+(r+1)+"</span>"}}}();
let mainNavLinks=document.querySelectorAll(".markdownIt-TOC a");window.addEventListener("scroll",event=>{let fromTop=window.scrollY;mainNavLinks.forEach((link,index)=>{let section=document.getElementById(decodeURI(link.hash).substring(1));let nextSection=null
if(mainNavLinks[index+1]){nextSection=document.getElementById(decodeURI(mainNavLinks[index+1].hash).substring(1));}
if(section.offsetTop<=fromTop){if(nextSection){if(nextSection.offsetTop>fromTop){link.classList.add("currentToc");}else{link.classList.remove("currentToc");}}else{link.classList.add("currentToc");}}else{link.classList.remove("currentToc");}});});
var h=document.documentElement,b=document.body,st="scrollTop",sh="scrollHeight",progress=document.querySelector(".progress"),scroll;document.addEventListener("scroll",function(){scroll=(h[st]||b[st])/((h[sh]||b[sh])-h.clientHeight)*100;progress.style.setProperty("--scroll",scroll+"%")});
var wxScale=new WxScale({fullPage:document.querySelector("#fullPage"),canvas:document.querySelector("#canvas")});var imgBox=document.querySelectorAll("#md_block img");for(var i=0;i<imgBox.length;i++){imgBox[i].onclick=function(e){wxScale.start(this)}};
</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
<div id="aplayer" class="aplayer" data-autoplay="true"  data-id="2870106565" data-server="netease" data-type="playlist" data-fixed="true" data-listfolded="true" data-order="random" data-theme="#F58EA8"></div>
<script src="https://unpkg.com/meting@1.2.0/dist/Meting.min.js"></script>


<a id="scrollUp" href="#" style="position: fixed; z-index: 2147483647; display: block;"></a><div class="footer animated fadeInDown"><div class="site_footer"><div class="mysocials"><div class="my_socials"><a href="https://weibo.com/u/1723068373"title="weibo"><i class="iconfont icon-weibo"></i></a><a href="https://github.com/my-youth"title="github"><i class="iconfont icon-github"></i></a></div></div><div class="copyright"id="copyright">Copyright Â© <a href="https://my-youth.github.io" style="margin:0;">æœ¨æ˜“Young&#39;s Blog</a>.</div>
<span style="display: inline;margin-right:15px;">ğŸ‘<strong><span id="busuanzi_value_site_pv"></span></strong></span>
<span style="display: inline;margin-right:15px;">ğŸ‘¤<strong><span id="busuanzi_value_site_uv"></span></strong></span>
<span>ğŸ“š<strong>18</strong> posts</span>
</div></div>
<script src="https://cdn.jsdelivr.net/npm/instant.page@3.0.0/instantpage.min.js" type="module" defer></script>




<script>
//å¤åˆ¶å†…å®¹è‡ªåŠ¨æ·»åŠ ç‰ˆæƒä¿¡æ¯ 
 var Sys = {}; 
    var ua = navigator.userAgent.toLowerCase(); 
    if( window.ActiveXObject ) 
    { 
        document.body.oncopy=function() 
        { 
            event.returnValue = false; 
            var t=document.selection.createRange().text; 
            var s="\r\nåŸæ–‡å‡ºè‡ª [æœ¨æ˜“Young&#39;s Blog]  è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥: "+location.href; 
            clipboardData.setData('Text',t+'\r\n'+s); 
        } 
    } 
    else 
    { 
        function addLink() 
        { 
            var body_element = document.getElementsByTagName('body')[0]; 
            var selection; 
            selection = window.getSelection(); 
            var pagelink = " åŸæ–‡å‡ºè‡ª [æœ¨æ˜“Young&#39;s Blog]  è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥: "+document.location.href; 
 
            var copytext = selection + pagelink; 
            var newdiv = document.createElement('div'); 
            newdiv.style.position='absolute'; 
            newdiv.style.left='-99999px'; 
            body_element.appendChild(newdiv); 
            newdiv.innerHTML = copytext; 
            selection.selectAllChildren(newdiv); 
            window.setTimeout 
            ( 
                function() 
                { 
                    body_element.removeChild(newdiv); 
                },0 
            ); 
        } 
        document.oncopy = addLink; 
    } 
</script>

<script type="text/javascript" async src="https://my-youth.github.io/media/js/prism.js"></script>
</body>
</html>